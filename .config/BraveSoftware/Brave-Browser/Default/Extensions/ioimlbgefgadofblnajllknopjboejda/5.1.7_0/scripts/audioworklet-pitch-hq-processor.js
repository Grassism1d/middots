!function t(e,i,r){function s(u,n){if(!i[u]){if(!e[u]){var h="function"==typeof require&&require;if(!n&&h)return h(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[u]={exports:{}};e[u][0].call(p.exports,(function(t){return s(e[u][1][t]||t)}),p,p.exports,t,e,i,r)}return i[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)s(r[u]);return s}({1:[function(t,e,i){"use strict";class r extends AudioWorkletProcessor{static get parameterDescriptors(){return[{name:"pitch",defaultValue:0},{name:"semitone",defaultValue:0}]}constructor(){super(),this.soundTouch=new c,this.filter=new s(this.soundTouch),this.semitone=0,this.pitch=0,this.skipBuffers=128}calculatePitch(t,e){if(this.pitch!==t||this.semitone!==e){var i=Math.exp(.69314718056*parseInt(e)/12)+.05*parseFloat(t);this.soundTouch.pitch=i,this.pitch=t,this.semitone=e,0===this.pitch&&0===this.semitone&&(this.skipBuffers=128)}}process(t,e,i){if(!t)return!0;var r=t[0],s=e[0];if(!r[0])return!0;var o,u=r[0].length,n=r[0].length,h=s.length>1&&r.length>1;(this.calculatePitch(i.pitch[0],i.semitone[0]),0===this.pitch&&0===this.semitone)||(this.skipBuffers>0&&this.skipBuffers--,this.outputBuffer=(null===(o=this.outputBuffer)||void 0===o?void 0:o.length)===2*n?this.outputBuffer:new Float32Array(2*n),this.filter.push(r[0],r[1]||r[0]),this.filter.extract(this.outputBuffer,n));if(this.skipBuffers>0){if(h)for(var f=0;f<u;f++)s[0][f]=r[0][f],s[1][f]=r[1][f];else for(var p=0;p<u;p++)s[0][p]=r[0][p];return!0}if(h)for(var a=0;a<n;a++)s[0][a]=this.outputBuffer[2*a]||0,s[1][a]=this.outputBuffer[2*a+1]||0;else for(var c=0;c<n;c++)s[0][c]=this.outputBuffer[2*c]||0;return!0}}class s{constructor(t){this._pipe=t}push(t,e){for(var i=new Float32Array(2*t.length),r=0;r<t.length;r++)i[2*r]=t[r],i[2*r+1]=e[r];this._pipe.inputBuffer.putSamples(i,0,t.length)}extract(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8192;this._pipe.inputBuffer.frameCount>=i&&this._pipe.process(),this._pipe.outputBuffer.receiveSamples(t,e)}clear(){this._pipe.process(),this._pipe.inputBuffer.rewind(),this._pipe.outputBuffer.rewind()}}function o(){this._vector=new Float32Array,this._position=0,this._frameCount=0}function u(t,e){for(var i in e){var r=e.__lookupGetter__(i),s=e.__lookupSetter__(i);r||s?(r&&t.__defineGetter__(i,r),s&&t.__defineSetter__(i,s)):t[i]=e[i]}return t}function n(t,e){return(t>e?t-e:e-t)>1e-10}function h(t){this._pipe=t}function f(t,e){h.call(this,e),this.sourceSound=t,this.historyBufferSize=22050,this._sourcePosition=0,this.outputBufferPosition=0,this._position=0}function p(t){t?(this.inputBuffer=new o,this.outputBuffer=new o):this.inputBuffer=this.outputBuffer=null}function a(t){p.call(this,t),this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0,this.rate=1}function c(){this.rateTransposer=new a(!1),this.tdStretch=new _(!1),this._inputBuffer=new o,this._intermediateBuffer=new o,this._outputBuffer=new o,this._rate=0,this.tempo=0,this.virtualPitch=1,this.virtualRate=1,this.virtualTempo=1,this._calculateEffectiveRateAndTempo()}function l(t){this.buffer=t}function _(t){p.call(this,t),this.bQuickSeek=!0,this.bMidBufferDirty=!1,this.pMidBuffer=null,this.overlapLength=0,this.bAutoSeqSetting=!0,this.bAutoSeekSetting=!0,this._tempo=1,this.setParameters(44100,B,m,d)}function v(t,e,i){this._st=new c,this._f=new f(new l(e),this._st,i),this._node=function(t,e,i){var r=i||1024,s=t.createScriptProcessor?t.createScriptProcessor(r,2,2):t.createJavascriptNode(r,2,2),o=new Float32Array(2*r);return s.onaudioprocess=function(t){var i=t.outputBuffer.getChannelData(0),u=t.outputBuffer.getChannelData(1),n=e.extract(o,r);0===n&&s.disconnect();for(var h=0;n>h;h++)i[h]=o[2*h],u[h]=o[2*h+1]},s}(t,this._f)}registerProcessor("audioworklet-pitch-hq-processor",r),o.prototype={get vector(){return this._vector},get position(){return this._position},get startIndex(){return 2*this._position},get frameCount(){return this._frameCount},get endIndex(){return 2*(this._position+this._frameCount)},clear:function(){this.receive(frameCount),this.rewind()},put:function(t){this._frameCount+=t},putSamples:function(t,e,i){var r=2*(e=e||0);i>=0||(i=(t.length-r)/2);var s=2*i;this.ensureCapacity(i+this._frameCount);var o=this.endIndex;this._vector.set(t.subarray(r,r+s),o),this._frameCount+=i},putBuffer:function(t,e,i){e=e||0,i>=0||(i=t.frameCount-e),this.putSamples(t.vector,t.position+e,i)},receive:function(t){(!(t>=0)||t>this._frameCount)&&(t=this._frameCount),this._frameCount-=t,this._position+=t},receiveSamples:function(t,e){var i=2*e,r=this.startIndex;t.set(this._vector.subarray(r,r+i)),this.receive(e)},extract:function(t,e,i){var r=this.startIndex+2*e,s=2*i;t.set(this._vector.subarray(r,r+s))},ensureCapacity:function(t){var e=2*t;if(this._vector.length<e){var i=new Float32Array(e);i.set(this._vector.subarray(this.startIndex,this.endIndex)),this._vector=i,this._position=0}else this.rewind()},ensureAdditionalCapacity:function(t){this.ensureCapacity(this.frameCount+t)},rewind:function(){this._position>0&&(this._vector.set(this._vector.subarray(this.startIndex,this.endIndex)),this._position=0)}},h.prototype={get pipe(){return this._pipe},get inputBuffer(){return this._pipe.inputBuffer},get outputBuffer(){return this._pipe.outputBuffer},fillOutputBuffer:function(t){for(;this.outputBuffer.frameCount<t;){var e=256-this.inputBuffer.frameCount;if(this.fillInputBuffer(e),this.inputBuffer.frameCount<16384)break;this._pipe.process()}},clear:function(){this._pipe.clear()}},u(f.prototype,h.prototype),u(f.prototype,{get position(){return this._position},set position(t){if(t>this._position)throw new RangeError("New position may not be greater than current position");var e=this.outputBufferPosition-(this._position-t);if(0>e)throw new RangeError("New position falls outside of history buffer");this.outputBufferPosition=e,this._position=t},get sourcePosition(){return this._sourcePosition},set sourcePosition(t){this.clear(),this._sourcePosition=t},fillInputBuffer:function(t){var e=new Float32Array(2*t),i=this.sourceSound.extract(e,t,this._sourcePosition);this._sourcePosition+=i,this.inputBuffer.putSamples(e,0,i)},extract:function(t,e){this.fillOutputBuffer(this.outputBufferPosition+e);var i=Math.min(e,this.outputBuffer.frameCount-this.outputBufferPosition);this.outputBuffer.extract(t,this.outputBufferPosition,i);var r=this.outputBufferPosition+i;return this.outputBufferPosition=Math.min(this.historyBufferSize,r),this.outputBuffer.receive(Math.max(r-this.historyBufferSize,0)),this._position+=i,i},handleSampleData:function(t){this.extract(t.data,4096)},clear:function(){h.prototype.clear.call(this),this.outputBufferPosition=0}}),p.prototype={get inputBuffer(){return this._inputBuffer},set inputBuffer(t){this._inputBuffer=t},get outputBuffer(){return this._outputBuffer},set outputBuffer(t){this._outputBuffer=t},clear:function(){this._inputBuffer.clear(),this._outputBuffer.clear()}},u(a.prototype,p.prototype),u(a.prototype,{set rate(t){this._rate=t},_reset:function(){this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0},clone:function(){var t=new a;return t.rate=this._rate,t},process:function(){var t=this._inputBuffer.frameCount;this._outputBuffer.ensureAdditionalCapacity(t/this._rate+1);var e=this._transpose(t);this._inputBuffer.receive(),this._outputBuffer.put(e)},_transpose:function(t){if(0==t)return 0;for(var e=this._inputBuffer.vector,i=this._inputBuffer.startIndex,r=this._outputBuffer.vector,s=this._outputBuffer.endIndex,o=0,u=0;this.slopeCount<1;)r[s+2*u]=(1-this.slopeCount)*this.prevSampleL+this.slopeCount*e[i],r[s+2*u+1]=(1-this.slopeCount)*this.prevSampleR+this.slopeCount*e[i+1],u++,this.slopeCount+=this._rate;if(this.slopeCount-=1,1!=t)t:for(;;){for(;this.slopeCount>1;)if(this.slopeCount-=1,++o>=t-1)break t;var n=i+2*o;r[s+2*u]=(1-this.slopeCount)*e[n]+this.slopeCount*e[n+2],r[s+2*u+1]=(1-this.slopeCount)*e[n+1]+this.slopeCount*e[n+3],u++,this.slopeCount+=this._rate}return this.prevSampleL=e[i+2*t-2],this.prevSampleR=e[i+2*t-1],u}}),u(c.prototype,{clear:function(){rateTransposer.clear(),tdStretch.clear()},clone:function(){var t=new c;return t.rate=rate,t.tempo=tempo,t},get rate(){return this._rate},set rate(t){this.virtualRate=t,this._calculateEffectiveRateAndTempo()},set rateChange(t){this.rate=1+.01*t},get tempo(){return this._tempo},set tempo(t){this.virtualTempo=t,this._calculateEffectiveRateAndTempo()},set tempoChange(t){this.tempo=1+.01*t},set pitch(t){this.virtualPitch=t,this._calculateEffectiveRateAndTempo()},set pitchOctaves(t){this.pitch=Math.exp(.69314718056*t),this._calculateEffectiveRateAndTempo()},set pitchSemitones(t){this.pitchOctaves=t/12},get inputBuffer(){return this._inputBuffer},get outputBuffer(){return this._outputBuffer},_calculateEffectiveRateAndTempo:function(){var t=this._tempo,e=this._rate;this._tempo=this.virtualTempo/this.virtualPitch,this._rate=this.virtualRate*this.virtualPitch,n(this._tempo,t)&&(this.tdStretch.tempo=this._tempo),n(this._rate,e)&&(this.rateTransposer.rate=this._rate),this._rate>1?this._outputBuffer!=this.rateTransposer.outputBuffer&&(this.tdStretch.inputBuffer=this._inputBuffer,this.tdStretch.outputBuffer=this._intermediateBuffer,this.rateTransposer.inputBuffer=this._intermediateBuffer,this.rateTransposer.outputBuffer=this._outputBuffer):this._outputBuffer!=this.tdStretch.outputBuffer&&(this.rateTransposer.inputBuffer=this._inputBuffer,this.rateTransposer.outputBuffer=this._intermediateBuffer,this.tdStretch.inputBuffer=this._intermediateBuffer,this.tdStretch.outputBuffer=this._outputBuffer)},process:function(){this._rate>1?(this.tdStretch.process(),this.rateTransposer.process()):(this.rateTransposer.process(),this.tdStretch.process())}}),l.prototype={extract:function(t,e,i){var r,s=this.buffer.getChannelData(0);buffer.numberOfChannels>1&&(r=this.buffer.getChannelData(1));for(var o=0;e>o;o++)t[2*o]=s[o+i],buffer.numberOfChannels>1&&(t[2*o+1]=r[o+i]);return Math.min(e,s.length-i)}};var B=0,m=0,d=16,g=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],S=-10/1.5;u(_.prototype,p.prototype),u(_.prototype,{clear:function(){p.prototype.clear.call(this),this._clearMidBuffer()},_clearMidBuffer:function(){this.bMidBufferDirty&&(this.bMidBufferDirty=!1,this.pMidBuffer=null)},setParameters:function(t,e,i,r){t>0&&(this.sampleRate=t),r>0&&(this.overlapMs=r),e>0?(this.sequenceMs=e,this.bAutoSeqSetting=!1):this.bAutoSeqSetting=!0,i>0?(this.seekWindowMs=i,this.bAutoSeekSetting=!1):this.bAutoSeekSetting=!0,this.calcSeqParameters(),this.calculateOverlapLength(this.overlapMs),this.tempo=this._tempo},set tempo(t){var e;this._tempo=t,this.calcSeqParameters(),this.nominalSkip=this._tempo*(this.seekWindowLength-this.overlapLength),this.skipFract=0,e=Math.floor(this.nominalSkip+.5),this.sampleReq=Math.max(e+this.overlapLength,this.seekWindowLength)+this.seekLength},get inputChunkSize(){return this.sampleReq},get outputChunkSize(){return this.overlapLength+Math.max(0,this.seekWindowLength-2*this.overlapLength)},calculateOverlapLength:function(t){var e;16>(e=this.sampleRate*t/1e3)&&(e=16),e-=e%8,this.overlapLength=e,this.pRefMidBuffer=new Float32Array(2*this.overlapLength),this.pMidBuffer=new Float32Array(2*this.overlapLength)},checkLimits:function(t,e,i){return e>t?e:t>i?i:t},calcSeqParameters:function(){var t,e;this.bAutoSeqSetting&&(t=150+-50*this._tempo,t=this.checkLimits(t,50,125),this.sequenceMs=Math.floor(t+.5)),this.bAutoSeekSetting&&(e=28.333333333333332+S*this._tempo,e=this.checkLimits(e,15,25),this.seekWindowMs=Math.floor(e+.5)),this.seekWindowLength=Math.floor(this.sampleRate*this.sequenceMs/1e3),this.seekLength=Math.floor(this.sampleRate*this.seekWindowMs/1e3)},set quickSeek(t){this.bQuickSeek=t},clone:function(){var t=new _;return t.tempo=this.tempo,t.setParameters(this.sampleRate,this.sequenceMs,this.seekWindowMs,this.overlapMs),t},seekBestOverlapPosition:function(){return this.bQuickSeek?this.seekBestOverlapPositionStereoQuick():this.seekBestOverlapPositionStereo()},seekBestOverlapPositionStereo:function(){var t,e,i,r;for(this.precalcCorrReferenceStereo(),e=Number.MIN_VALUE,t=0,r=0;r<this.seekLength;r++)(i=this.calcCrossCorrStereo(2*r,this.pRefMidBuffer))>e&&(e=i,t=r);return t},seekBestOverlapPositionStereoQuick:function(){var t,e,i,r,s,o,u;for(this.precalcCorrReferenceStereo(),i=Number.MIN_VALUE,e=0,o=0,u=0,s=0;4>s;s++){for(t=0;g[s][t]&&!((u=o+g[s][t])>=this.seekLength);)(r=this.calcCrossCorrStereo(2*u,this.pRefMidBuffer))>i&&(i=r,e=u),t++;o=e}return e},precalcCorrReferenceStereo:function(){var t,e,i;for(t=0;t<this.overlapLength;t++)i=t*(this.overlapLength-t),e=2*t,this.pRefMidBuffer[e]=this.pMidBuffer[e]*i,this.pRefMidBuffer[e+1]=this.pMidBuffer[e+1]*i},calcCrossCorrStereo:function(t,e){var i,r,s,o=this._inputBuffer.vector;for(t+=this._inputBuffer.startIndex,i=0,r=2;r<2*this.overlapLength;r+=2)i+=o[s=r+t]*e[r]+o[s+1]*e[r+1];return i},overlap:function(t){this.overlapStereo(2*t)},overlapStereo:function(t){var e=this._inputBuffer.vector;t+=this._inputBuffer.startIndex;var i,r,s,o,u,n,h,f=this._outputBuffer.vector,p=this._outputBuffer.endIndex;for(o=1/this.overlapLength,i=0;i<this.overlapLength;i++)s=(this.overlapLength-i)*o,u=i*o,n=(r=2*i)+t,f[(h=r+p)+0]=e[n+0]*u+this.pMidBuffer[r+0]*s,f[h+1]=e[n+1]*u+this.pMidBuffer[r+1]*s},process:function(){var t,e,i;if(null==this.pMidBuffer){if(this._inputBuffer.frameCount<this.overlapLength)return;this.pMidBuffer=new Float32Array(2*this.overlapLength),this._inputBuffer.receiveSamples(this.pMidBuffer,this.overlapLength)}for(;this._inputBuffer.frameCount>=this.sampleReq;){e=this.seekBestOverlapPosition(),this._outputBuffer.ensureAdditionalCapacity(this.overlapLength),this.overlap(Math.floor(e)),this._outputBuffer.put(this.overlapLength),(i=this.seekWindowLength-2*this.overlapLength)>0&&this._outputBuffer.putBuffer(this._inputBuffer,e+this.overlapLength,i);var r=this.inputBuffer.startIndex+2*(e+this.seekWindowLength-this.overlapLength);this.pMidBuffer.set(this._inputBuffer.vector.subarray(r,r+2*this.overlapLength)),this.skipFract+=this.nominalSkip,t=Math.floor(this.skipFract),this.skipFract-=t,this._inputBuffer.receive(t)}}}),u(_.prototype,{get tempo(){return this._tempo}}),v.prototype.connect=function(t){this._node.connect(t)},v.prototype.disconnect=function(t){this._node.disconnect()},u(v.prototype,{set pitch(t){this._st.pitch=t},set rate(t){this._st.rate=t},set tempo(t){this._st.tempo=t}})},{}]},{},[1]);